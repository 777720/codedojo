<!DOCTYPE html>
<html>

<head>
  <style type='text/css'>

  </style>
</head>

<body>
  <canvas id="chess" width="450px" height="450px"></canvas>
  <div class="btn-wrap">
    <div id='restart' class="restart">
      <span>重新开始</span>
    </div>
    <div id='goback' class="goback unable">
      <span>悔棋</span>
    </div>
    <div id='return' class="return unable">
      <span>撤销悔棋</span>
    </div>
  </div>
  <script type="text/javascript" charset="utf-8">
    var chess = document.getElementById("chess");
    var context = chess.getContext("2d");
    context.strokeStyle = "#bfbfbf";
    // 赢法数组
    var wins = [];
    for (var i = 0; i < 15; i++) {
      wins[i] = [];
      for (var j = 0; j < 15; j++) {
        wins[i][j] = [];
      }
    }
    var count = 0; //赢法总数

    //横线赢法
    for (var i = 0; i < 15; i++) {
      for (var j = 0; j < 11; j++) {
        for (var k = 0; k < 5; k++) {
          wins[i][j + k][count] = true;
        }
        count++;
      }
    }
    //竖线算法
    for (var i = 0; i < 15; i++) {
      for (var j = 0; j < 11; j++) {
        for (var k = 0; k < 5; k++) {
          wins[j + k][i][count] = true;
        }
        count++;
      }
    }
    //正斜线赢法
    for (var i = 0; i < 11; i++) {
      for (var j = 0; j < 11; j++) {
        for (var k = 0; k < 5; k++) {
          wins[i + k][j + k][count] = true;
        }
        count++;
      }
    }
    //反斜线算法
    for (var i = 0; i < 11; i++) {
      for (var j = 14; j > 3; j--) {
        for (var k = 0; k < 5; k++) {
          wins[i + k][j - k][count] = true;
        }
        count++;
      }
    }
    console.log('====================================')
    console.log(wins);
    console.log('====================================')


    window.onload = function () {
      drawChessBoard(); // 画棋盘
    }

    //绘制棋盘
    var drawChessBoard = function () {
      for (var i = 0; i < 15; i++) {
        context.moveTo(15 + i * 30, 15);
        context.lineTo(15 + i * 30, 435);
        context.stroke();
        context.moveTo(15, 15 + i * 30);
        context.lineTo(435, 15 + i * 30);
        context.stroke();
      }
    }
  </script>
</body>


</html>